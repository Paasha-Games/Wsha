<!DOCTYPE html>
<html lang="ku" dir="rtl" style="background-color: #0a0a0c;">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5BN3MF9Y8S"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-5BN3MF9Y8S');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0a0a0c">
    
    <link rel="icon" type="image/png" href="favicon.png?v=1">
    <link rel="apple-touch-icon" href="favicon.png?v=1">
    
    <title>Wsha - Kurdish Wordle</title>
    <style>
        :root { 
            --bg: radial-gradient(circle at top, #1a1a2e 0%, #0a0a0c 100%); 
            --tile-border: #3a3a3c; 
            --correct: #27ae60; 
            --present: #d4af37; 
            --absent: #3a3a3c; 
            --key-default: #4a4a4d;
            --ramadan-gold: #f1c40f;
            --kurdish-font: 'Segoe UI', Tahoma, sans-serif;
        }
        
        html, body { 
            height: 100%; margin: 0; padding: 0; overflow: hidden; 
            touch-action: manipulation; background: var(--bg); color: white; 
            font-family: var(--kurdish-font); 
        }

        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes flip { 0% { transform: rotateX(0); } 100% { transform: rotateX(360deg); } }
        .pop-anim { animation: pop 0.1s ease-in-out; }
        .flip-anim { animation: flip 0.6s ease-in-out; }

        #music-control, #info-control {
            position: fixed; top: 15px; z-index: 200;
            background: rgba(0,0,0,0.5); border: 1px solid var(--ramadan-gold);
            color: var(--ramadan-gold); border-radius: 50%; width: 35px; height: 35px;
            display: flex; align-items: center; justify-content: center; cursor: pointer;
        }
        #music-control { left: 15px; }
        #info-control { right: 15px; font-weight: bold; font-size: 1.2rem; }

        .modal {
            display: none; position: fixed; z-index: 300; left: 0; top: 0; 
            width: 100%; height: 100%; background-color: rgba(0,0,0,0.85);
            justify-content: center; align-items: center; backdrop-filter: blur(8px);
        }
        .modal-content {
            background: #1a1a2e; padding: 25px; border-radius: 15px;
            width: 85%; max-width: 380px; text-align: center; border: 2px solid var(--ramadan-gold);
        }

        /* Stats Grid Styling */
        .stats-grid { display: flex; justify-content: space-around; margin: 15px 0; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .stat-box { display: flex; flex-direction: column; }
        .stat-val { font-size: 1.4rem; font-weight: bold; color: var(--ramadan-gold); }
        .stat-label { font-size: 0.65rem; color: #bbb; }

        .chart-container { margin: 15px 0; text-align: right; }
        .chart-row { display: flex; align-items: center; margin-bottom: 8px; gap: 10px; }
        .chart-label { width: 15px; font-weight: bold; color: var(--ramadan-gold); }
        .chart-bar { 
            background: var(--key-default); height: 22px; border-radius: 4px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 0.85rem; font-weight: bold; min-width: 25px; transition: width 0.5s ease;
        }
        .chart-bar.highlight { background: var(--correct); }
        .chart-desc { font-size: 0.8rem; color: #bbb; margin-bottom: 10px; line-height: 1.4; }

        #main-menu {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg); z-index: 100;
            display: flex; flex-direction: column; align-items: center; text-align: center;
        }
        .spacer { flex-grow: 1; }
        #main-menu h1 { font-size: 5rem; color: var(--ramadan-gold); margin: 0; }
        #moon-phase { font-size: 2rem; margin-bottom: 10px; }
        .welcome-msg { font-weight: 800; font-size: 1.2rem; margin: 5px 0; }
        #streak-display { font-weight: 800; font-size: 1.1rem; color: var(--correct); margin-top: 10px; }

        .start-btn {
            background: var(--correct); color: white; border: none; 
            width: 200px; height: 80px; font-size: 1.6rem; font-weight: bold; 
            border-radius: 4px; cursor: pointer;
        }

        #game-container { 
            display: flex; flex-direction: column; align-items: center; 
            height: 100vh; width: 100%; visibility: hidden; justify-content: space-between; 
        }
        #game-container h1 { margin-top: 20px; font-size: 2.2rem; color: var(--ramadan-gold); }

        #board-wrapper { display: flex; flex-direction: column; justify-content: center; flex: 1; width: 100%; min-height: 0; }
        #game-board { display: flex; flex-direction: column; gap: 4px; align-items: center; }
        .row { display: flex; gap: 4px; justify-content: center; }
        .tile { 
            width: 12vw; height: 12vw; max-width: 48px; max-height: 48px;
            border: 2px solid var(--tile-border); display: flex; align-items: center; 
            justify-content: center; font-size: 1.4rem; font-weight: bold; 
            border-radius: 6px; background: rgba(255,255,255,0.05);
        }

        #message-container { height: 40px; text-align: center; margin-bottom: 10px; }
        #message-text { color: var(--ramadan-gold); font-weight: 800; }

        #keyboard { width: 100%; max-width: 480px; padding: 5px; padding-bottom: 95px; }
        .kbd-row { display: flex; justify-content: center; gap: 3px; margin-bottom: 4px; }
        button { 
            background: var(--key-default); color: white; border: none; border-radius: 4px;
            height: 42px; font-size: 0.95rem; flex: 1;
            display: flex; align-items: center; justify-content: center;
        }
        .wide { flex: 1.8; background: #2c3e50; font-size: 0.75rem; border: 1px solid var(--ramadan-gold); }

        .game-footer { position: fixed; bottom: 0; width: 100%; background: #000; text-align: center; padding: 8px 0 12px 0; font-size: 0.8rem; border-top: 1px solid var(--ramadan-gold); z-index: 50; }
        .tiktok-link { display: inline-block; margin-top: 10px; color: var(--ramadan-gold); text-decoration: none; font-weight: bold; border: 1px solid var(--ramadan-gold); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; }
    </style>
</head>
<body>

    <audio id="bg-music" loop><source src="music.mp3" type="audio/mpeg"></audio>
    <div id="music-control" onclick="toggleMusic()">ğŸ”Š</div>
    <div id="info-control" onclick="toggleModal('info-modal')">?</div>

    <div id="results-modal" class="modal">
        <div class="modal-content">
            <h2 id="results-title" style="color:var(--ramadan-gold);">Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Ø§Ù†</h2>
            
            <div class="stats-grid">
                <div class="stat-box"><span class="stat-val" id="stat-played">0</span><span class="stat-label">ÛŒØ§Ø±ÛŒ</span></div>
                <div class="stat-box"><span class="stat-val" id="stat-winpct">0</span><span class="stat-label">Ø¨Ø±Ø¯Ù† %</span></div>
                <div class="stat-box"><span class="stat-val" id="stat-streak">0</span><span class="stat-label">Ø²Ù†Ø¬ÛŒØ±Û•</span></div>
                <div class="stat-box"><span class="stat-val" id="stat-max">0</span><span class="stat-label">Ø¨Û•Ø±Ø²ØªØ±ÛŒÙ†</span></div>
            </div>

            <p id="results-word" style="font-weight:bold; margin-bottom:5px;"></p>
            <p class="chart-desc">Ø¦Û•Ù…Û• Ø¦Ø§Ù…Ø§Ø±ÛŒ Ø¨Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù†ØªÛ• Ø¨Û•Ù¾ÛÛŒ Ú˜Ù…Ø§Ø±Û•ÛŒ Ù‡Û•ÙˆÚµÛ•Ú©Ø§Ù†Øª</p>
            <div id="guess-chart" class="chart-container"></div>
            
            <button class="start-btn" style="height:50px; width:100%; font-size:1rem;" onclick="shareScore()">Ø¨ÚµØ§ÙˆÚ©Ø±Ø¯Ù†Û•ÙˆÛ• ğŸ“‹</button>
            <p style="font-size:0.8rem; color:#888; margin-top:15px; cursor:pointer;" onclick="closeResultsAndGoHome()">Ø¯Ø§Ø®Ø³ØªÙ†</p>
        </div>
    </div>

    <div id="wait-modal" class="modal">
        <div class="modal-content">
            <h2 style="color:var(--ramadan-gold);">Ø¨Û† Ø¨Û•ÛŒØ§Ù†ÛŒ Ú†Ø§ÙˆÛ•Ú•Û Ø¨Ú©Û•</h2>
            <p>ØªÛ† ÛŒØ§Ø±ÛŒ Ø¦Û•Ù…Ú•Û†Øª ØªÛ•ÙˆØ§Ùˆ Ú©Ø±Ø¯ÙˆÙˆÛ•!</p>
            <div style="margin: 25px 0; border: 1px solid #333; padding: 15px; border-radius: 10px;">
                <div style="font-size: 0.9rem; color:#aaa; margin-bottom: 5px;">ÙˆØ´Û•ÛŒ Ù†ÙˆÛ Ø¯ÙˆØ§ÛŒ:</div>
                <div id="wait-timer" style="font-size:1.8rem; font-weight:bold; color:var(--ramadan-gold);"></div>
            </div>
            <p style="font-size:0.8rem; color:#666;">Ú•Û†Ú˜Ø§Ù†Û• ÙˆØ´Û•ÛŒ Ù†ÙˆÛ Ø²ÛŒØ§Ø¯ Ø¯Û•Ú©Ø±ÛØª</p>
            <p style="font-size:0.75rem; color:var(--ramadan-gold); margin-top:15px; text-decoration:underline; cursor:pointer;" onclick="toggleModal('wait-modal')">Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ•</p>
        </div>
    </div>

    <div id="main-menu">
        <div class="spacer"></div>
        <div id="moon-phase">ğŸŒ™</div>
        <h1>ÙˆØ´Û•</h1>
        <p class="welcome-msg">Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª Ø¨Û† ÛŒØ§Ø±ÛŒ ÙˆØ´Û•</p>
        <div id="streak-display"></div>
        <div class="spacer"></div>
        <button class="start-btn" onclick="startGame()">Ø¯Û•Ø³ØªÙ¾ÛÚ©Ø±Ø¯Ù†</button>
        <div class="spacer"></div>
        <div style="margin-bottom: 30px;">
            <div style="font-size: 0.9rem; color: #ccc;">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø§ÙˆÛ• Ù„Û•Ù„Ø§ÛŒÛ•Ù† <span style="color:var(--ramadan-gold); font-weight:bold;">Paasha</span></div>
            <a href="https://www.tiktok.com/@pasha_games01" class="tiktok-link">TikTok: @Wsha - Kurdish Wordle</a>
        </div>
    </div>

    <div id="info-modal" class="modal">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h2 style="color:var(--ramadan-gold)">Ú†Û†Ù† ÛŒØ§Ø±ÛŒ Ø¯Û•Ú©Û•ÛŒØªØŸ</h2>
            <p>Ù„Û• Ù¦ Ù‡Û•ÙˆÚµØ¯Ø§ ÙˆØ´Û•Ú©Û• Ø¨Ø¯Û†Ø²Û•Ø±Û•ÙˆÛ•.</p>
            <div style="text-align:right; font-size: 0.9rem;">
                <p>âœ… <b>Ø³Û•ÙˆØ²:</b> Ù¾ÛŒØªÛ•Ú©Û• Ù„Û• Ø´ÙˆÛÙ†ÛŒ Ø®Û†ÛŒÛ•ØªÛŒ.</p>
                <p>ğŸŸ¨ <b>Ø²Û•Ø±Ø¯:</b> Ù¾ÛŒØªÛ•Ú©Û• Ù„Û• ÙˆØ´Û•Ú©Û•Ø¯Ø§ Ù‡Û•ÛŒÛ• Ø¨Û•ÚµØ§Ù… Ø´ÙˆÛÙ†Û•Ú©Û•ÛŒ Ù‡Û•ÚµÛ•ÛŒÛ•.</p>
                <p>â¬› <b>Ø®Û†ÚµÛ•Ù…ÛØ´ÛŒ:</b> Ù¾ÛŒØªÛ•Ú©Û• Ù„Û• ÙˆØ´Û•Ú©Û•Ø¯Ø§ Ù†ÛŒÛŒÛ•.</p>
            </div>
            <button class="start-btn" style="height:50px; width:100px; font-size:1rem;" onclick="closeTutorial()">Ø¨Ø§Ø´Û•</button>
        </div>
    </div>

    <div id="game-container">
        <h1>ÙˆØ´Û•</h1>
        <div id="board-wrapper">
            <div id="game-board"></div>
        </div>
        <div id="message-container">
            <div id="message-text"></div>
        </div>
        <div id="keyboard"></div>
        <div class="game-footer">Ù„Û• Ù„Ø§ÛŒÛ•Ù† <span style="color:var(--ramadan-gold)">Paasha</span> Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø§ÙˆÛ•</div>
    </div>

<script>
    const wordList = ["Ø´Ù…Ø´ÛØ±", "ØªØ§Ø¨Ù„Û†", "Ø²Ø³ØªØ§Ù†", "Ø®Û•ÛŒØ§Úµ", "Ø¦Ø§Ø²Ø§Ø¯", "Ø²Ø§Ù†Ø³Øª", "Ù…Ø±ÛŒØ´Ú©", "ØªÛ•Ø®ØªÛ•", "Ø¯Û•Ø±ÛŒØ§", "Ø®Ø§ÙˆÛ•Ù†", "Ú©ÙˆØ±Ø³ÛŒ", "Ú˜Ù…Ø§Ø±Û•", "Ù¾Û•Ø±Ø¯Û•", "ØªÛ•Ù†ÙˆØ±", "Ù¾ÛŒØ±Û†Ø²", "Ú†Û•Ú©ÙˆØ´", "ÙˆÛ•Ø±Ø²Ø´", "Ø®Û•Ø¨Ø§Øª", "Ø¨Ø§Ø²Ø§Ú•", "Ø³Û•ÙˆØ²Û•", "ØªÛ•Ù…Û•Ù†", "Ú©ÛÚµÚ¯Û•", "Ú†ÛŒÙ…Û•Ù†", "Ù¾Ø§Ø±Ú†Û•", "Ù„ÙˆØªÚ©Û•", "Ø¨Ø§Ø²Ù†Û•", "Ø®Û•Ù†Ø¯Û•", "Ø¨Û•Ù‡Ø§Ø±", "Ø¨Ø§Ø±Ø§Ù†", "Ø¯ÛŒÙˆØ§Ø±", "Ù‡Û•ÙˆØ§Úµ", "Ú©Û†ÚµØ§Ù†", "Ø´ÛŒØ±ÛŒÙ†", "Ù…ÛÚ˜ÙˆÙˆ", "Ù¾Ø§ÛŒÛŒØ²", "Ù‚Û•ÚµÛ•Ù…", "Ù‡ÛÙˆØ§Ø´", "Ú¯Û•ÙˆØ±Û•", "Ú•Û†Ú˜Ø§Ù†", "Ø´Û•ÙˆØ§Ù†", "Ø¦Ø§Ø³Ø§Ù†", "Ú©Û•Ù…Ø§Ù†", "Ù¾ÛÚµØ§Ùˆ", "Ù¾Û•Ù†Ø¬Û•", "Ø¬Ø§Ù†ØªØ§", "Ù‡ÛÙ„Ú©Û•", "Ø¯Û•Ø±Ú¯Ø§", "Ø¨Ø§Ø®Ú†Û•", "Ù‡Û•Ù†Ø§Ø±", "Ú©Û•ÙˆÚ†Ú©", "Ø´Û†Ø±Ø¨Ø§", "Ù‡Û•ÙˆÛŒØ±"]; 
    
    // RESET TO DAY 1 FOR MARCH 1st LAUNCH
    const startDate = new Date("2026-03-01").getTime();
    const today = new Date().setHours(0,0,0,0);
    const dayIndex = Math.max(1, Math.floor((today - startDate) / (1000 * 60 * 60 * 24)) + 1);
    const answer = wordList[(dayIndex - 1) % wordList.length];
    
    let row = 0, col = 0, currentGuess = "", gameOver = false;
    let boardState = [];
    let isMutedManually = false;
    const audio = document.getElementById('bg-music');
    let stats = JSON.parse(localStorage.getItem('wsha_stats')) || { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0 };
    let lifeStats = JSON.parse(localStorage.getItem('wsha_lifetime')) || { played: 0, won: 0, maxStreak: 0 };

    function refreshStreakUI() {
        const s = localStorage.getItem('wsha_streak') || 0;
        const display = document.getElementById('streak-display');
        if(s > 0) display.innerText = `Ø²Ù†Ø¬ÛŒØ±Û•ÛŒ Ø¨Ø±Ø¯Ù†Û•ÙˆÛ•: ${s} Ú•Û†Ú˜ ğŸ”¥`;
        else display.innerText = "";
    }

    refreshStreakUI();
    document.getElementById('moon-phase').innerText = ['ğŸŒ‘','ğŸŒ’','ğŸŒ“','ğŸŒ”','ğŸŒ•','ğŸŒ–','ğŸŒ—','ğŸŒ˜'][(dayIndex - 1) % 8];

    function toggleMusic() {
        if (audio.paused) { audio.play(); isMutedManually = false; document.getElementById('music-control').innerText = "ğŸ”Š"; } 
        else { audio.pause(); isMutedManually = true; document.getElementById('music-control').innerText = "ğŸ”‡"; }
    }

    function toggleModal(id) {
        const m = document.getElementById(id);
        m.style.display = (m.style.display === 'flex') ? 'none' : 'flex';
    }

    function closeResultsAndGoHome() {
        toggleModal('results-modal');
        refreshStreakUI();
        document.getElementById('main-menu').style.display = 'flex';
        document.getElementById('game-container').style.visibility = 'hidden';
    }

    function closeTutorial() { localStorage.setItem('hasSeenTutorial', 'true'); toggleModal('info-modal'); }

    function startGame() {
        const lastDate = localStorage.getItem('lastPlayedDate');
        if (lastDate && parseInt(lastDate) === today) {
            toggleModal('wait-modal');
            startCountdown('wait-timer');
            return;
        }
        document.getElementById('main-menu').style.display = 'none';
        document.getElementById('game-container').style.visibility = 'visible';
        audio.play().catch(() => {});
        if (!localStorage.getItem('hasSeenTutorial')) toggleModal('info-modal');
    }

    const board = document.getElementById('game-board');
    for(let r=0; r<6; r++){
        let rowDiv = document.createElement('div'); rowDiv.className = 'row';
        for(let c=0; c<5; c++){
            let tile = document.createElement('div'); tile.className = 'tile'; tile.id = `t-${r}-${c}`;
            rowDiv.appendChild(tile);
        }
        board.appendChild(rowDiv);
    }

    const keys = [['Ù¾','Û†','Ø­','Ø¦','ÛŒ','Øª','Ø±','Û•','Ùˆ','Ù‚','Úµ'],['Ú•','Ú©','Ù‡','Ú¯','Ù','Ø¯','Ø³','Ø§','Ø¨','Ù„','Ø´'],['ENTER','Ù†','Ù…','Ú¤','Ú†','Ø¬','Ø®','Ø²','Ú˜','Û','Ø³Ú•ÛŒÙ†Û•ÙˆÛ•']];
    const kbd = document.getElementById('keyboard');
    keys.forEach(r => {
        let rowDiv = document.createElement('div'); rowDiv.className = 'kbd-row';
        r.forEach(k => {
            let btn = document.createElement('button'); btn.innerText = (k === 'Ù‡') ? 'Ù‡Ù€' : k;
            if(k === 'ENTER' || k === 'Ø³Ú•ÛŒÙ†Û•ÙˆÛ•') btn.className = 'wide';
            btn.onclick = () => { if(k === 'ENTER') submit(); else if(k === 'Ø³Ú•ÛŒÙ†Û•ÙˆÛ•') del(); else press(k); };
            btn.id = `key-${k}`; rowDiv.appendChild(btn);
        });
        kbd.appendChild(rowDiv);
    });

    function press(l) { 
        if (!gameOver && col < 5) { 
            let t = document.getElementById(`t-${row}-${col}`);
            t.innerText = l; t.classList.add('pop-anim');
            setTimeout(() => t.classList.remove('pop-anim'), 100);
            currentGuess += l; col++; 
        } 
    }

    function del() { if (!gameOver && col > 0) { col--; currentGuess = currentGuess.slice(0, -1); document.getElementById(`t-${row}-${col}`).innerText = ""; } }

    function submit() {
        if (!gameOver && col === 5) {
            for (let i = 0; i < 5; i++) {
                let tile = document.getElementById(`t-${row}-${i}`);
                let char = currentGuess[i];
                setTimeout(() => {
                    tile.classList.add('flip-anim');
                    if (char === answer[i]) { tile.style.background = "var(--correct)"; updateKey(char, "var(--correct)"); }
                    else if (answer.includes(char)) { tile.style.background = "var(--present)"; updateKey(char, "var(--present)"); }
                    else { tile.style.background = "var(--absent)"; updateKey(char, "var(--absent)"); }
                    tile.style.border = "none";
                }, i * 150);
            }
            boardState.push(currentGuess);
            if (currentGuess === answer) { 
                updateLifetimeStats(true);
                stats[row + 1]++; localStorage.setItem('wsha_stats', JSON.stringify(stats));
                finish(); setTimeout(() => showResults(true), 1500);
            } else { 
                row++; col = 0; currentGuess = ""; 
                if (row === 6) { updateLifetimeStats(false); finish(); setTimeout(() => showResults(false), 1500); } 
            }
        }
    }

    function updateLifetimeStats(won) {
        lifeStats.played++;
        if(won) {
            lifeStats.won++;
            let s = parseInt(localStorage.getItem('wsha_streak') || 0) + 1;
            localStorage.setItem('wsha_streak', s);
            if(s > lifeStats.maxStreak) lifeStats.maxStreak = s;
        } else {
            localStorage.setItem('wsha_streak', 0);
        }
        localStorage.setItem('wsha_lifetime', JSON.stringify(lifeStats));
    }

    function showResults(won) {
        gameOver = true;
        document.getElementById('results-title').innerText = won ? "Ù¾ÛŒØ±Û†Ø²Û•! Ø¨Ø±Ø¯ØªÛ•ÙˆÛ• ğŸ†" : "Ø¨Û•Ø¯Ø§Ø®Û•ÙˆÛ•! Ø¯Û†Ú•Ø§Ù†Ø¯Øª ğŸ’”";
        document.getElementById('results-word').innerText = `ÙˆØ´Û•Ú©Û•: ${answer}`;
        
        // Update Stats UI
        document.getElementById('stat-played').innerText = lifeStats.played;
        document.getElementById('stat-winpct').innerText = Math.round((lifeStats.won / lifeStats.played) * 100) || 0;
        document.getElementById('stat-streak').innerText = localStorage.getItem('wsha_streak') || 0;
        document.getElementById('stat-max').innerText = lifeStats.maxStreak;

        const chart = document.getElementById('guess-chart');
        chart.innerHTML = '';
        const maxVal = Math.max(...Object.values(stats), 1);
        for(let i=1; i<=6; i++) {
            const width = (stats[i] / maxVal) * 100;
            const isWinner = (won && i === (boardState.length));
            chart.innerHTML += `<div class="chart-row"><div class="chart-label">${i}</div><div class="chart-bar ${isWinner ? 'highlight' : ''}" style="width: ${Math.max(width, 7)}%">${stats[i]}</div></div>`;
        }
        toggleModal('results-modal');
    }

    function updateKey(letter, color) {
        let key = document.getElementById(`key-${letter}`);
        if (!key || key.style.background === 'rgb(39, 174, 96)') return; 
        key.style.background = color;
    }

    function finish() { localStorage.setItem('lastPlayedDate', today.toString()); localStorage.setItem('lastBoard', JSON.stringify(boardState)); }

    function startCountdown(elementId) {
        const timerElement = document.getElementById(elementId);
        function updateTimer() {
            const now = new Date(); const tomorrow = new Date(); tomorrow.setHours(24, 0, 0, 0);
            const diff = tomorrow - now;
            const h = String(Math.floor(diff / (1000 * 60 * 60))).padStart(2, '0');
            const m = String(Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
            const s = String(Math.floor((diff % (1000 * 60)) / 1000)).padStart(2, '0');
            timerElement.innerText = `${h}:${m}:${s}`;
            if (diff <= 0) location.reload();
        }
        setInterval(updateTimer, 1000); updateTimer();
    }

    function shareScore() {
        let emojiMap = "";
        let finalBoard = JSON.parse(localStorage.getItem('lastBoard')) || boardState;
        finalBoard.forEach(g => {
            for(let i=0; i<5; i++){
                if(g[i] === answer[i]) emojiMap += "ğŸŸ©";
                else if(answer.includes(g[i])) emojiMap += "ğŸŸ¨";
                else emojiMap += "â¬›";
            }
            emojiMap += "\n";
        });
        const score = gameOver && boardState.some(g => g === answer) ? boardState.length : "X";
        navigator.clipboard.writeText(`ÙˆØ´Û• - Wsha\nÚ•Û†Ú˜ÛŒ ${dayIndex} (${score}/6)\n\n${emojiMap}\n@Wsha - Kurdish Wordle`);
        alert("Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Û• Ú©Û†Ù¾ÛŒ Ú©Ø±Ø§!");
    }
</script>
</body>
</html>
